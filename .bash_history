sudo apt update
curl -fsSL https://pkg.jenkins.io/debian-stable/jenkins.io-2023.key | sudo tee     /usr/share/keyrings/jenkins-keyring.asc > /dev/null
sudo apt-get update
sudo apt-get install fontconfig openjdk-11-jre
sudo apt-get install jenkins
sudo systemctl start jenkin
sudo systemctl start jenkins
sudo systemctl enable jenkins
sudo systemctl status jenkins
sudo cat/var/lib/jenkins/secrets/initialAdminPassword
sudo cat /var/lib/jenkins/secrets/initialAdminPassword
mkdir web_pages
cd web_pages
nano page1.html
nano page2.html
nano page3.html
cd
nano Dockerfile
nano Jenkinsfile
curl -LO https://storage.googleapis.com/kubernetes-release/release/`curl -shttps://storage.googleapis.com/kubernetes-release/release/stable.txt`/bin/linux/amd64/kubectl
curl -LO https://storage.googleapis.com/kubernetes-release/release/`curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt`/bin/linux/amd64/kubectl
chmod +x ./kubectl
sudo mv ./kubectl /usr/local/bin/kubectl
sudo apt-get update && sudo apt-get install docker.io -y
curl -Lo minikube https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64&& chmod +x minikube && sudo mv minikube /usr/local/bin/
sudo minikube version
sudo apt install conntrack
sudo minikube start --kubernetes-version=v1.23.3 --vm-driver=none
sudo minikube status
curl -fsSL -o get_helm.sh https://raw.githubusercontent.com/helm/helm/master/scripts/get-helm-3
[200~chmod 700 get_helm.sh~
chmod 700 get_helm.sh
./get_helm.sh
alias helm="sudo helm
alias helm="sudo helm"
mkdir part4
cd part4
nano pending-pod.yaml
cat pending-pod.yaml
alias kubectl="sudo kubectl"
kubectl apply -f pending-pod.yaml 
kubectl get pods
nano pod-list-role.yml
nano pod-list-role-binding.yml
nano ServiceAccount.yml
nano ssmtp.conf
nano mailpendingpod.sh
nano Dockerfile
nano cronjob.yaml
nano ssmtp.conf
nano mailpendingpod.sh
cat Dockerfile 
docker build -t newimage .
sudo docker build -t newimage .
cat Dockerfile 
rm Dockerfile 
nano Dockerfile 
sudo docker build -t newimage .
nano Dockerfile 
sudo docker build -t newimage .
docker images
alias docker="sudo docker"
docker images
sudo docker build -t newimage .
ls
nano Dockerfile 
sudo docker build -t newimage .
docker images
nano cronjob.yaml 
ls
kubectl apply -f pod-list-role.yaml
kubectl apply -f pod-list-role.yml
kubectl apply -f pod-list-role-binding.yml
kubectl apply -f ServiceAccount.yml 
nano ServiceAccount.yml 
kubectl apply -f ServiceAccount.yml 
cat ServiceAccount.yml 
rm ServiceAccount.yml 
nano ServiceAccount.yml 
kubectl apply -f ServiceAccount.yml 
nano ServiceAccount
kubectl apply -f ServiceAccount.y
kubectl apply -f ServiceAccount
nano ServiceAccount.yml
kubectl apply -f ServiceAccount.yml 
ls
kubectl get pods
kubectl apply -f cronjob.yaml 
kubectl get pods
kubectl get cj

kubectl delete -f cronjob.yaml 
docker images
docker rm newimage
docker rmi newimage
docker images
nano ssmtp.conf
sudo docker build -t newimage .
kubectl apply -f cronjob.yaml 
kubectl get pods
kubectl get cj
kubectl get pods
cat Dockerfile
cat pending-pod.yaml 
ls
cat pod-list-role
cat pod-list-role.yml
cat pod-list-role-binding.yml
cat ServiceAccount.yaml
cat ServiceAccount.yml
cat mailpendingpod.sh 
cat ssmtp.conf
kubectl delete -f cronjob.yaml 
docker rmi newimage
cat mailpendingpod.sh 
rm mailpendingpod.sh 
nano mailpendingpod.sh 
sudo docker build -t newimage .
kubectl apply -f cronjob.yaml 
kubectl get pods
kubectl get cj
kubectl get pods
kubectl get cj
kubectl get pods
cat mailpendingpod.sh 
cat ssmtp.conf 
cd
ls
mkdir part1
mv Dockerfile part1
mv web_pages/ part1
mv Dockerfile part1
mv Jenkinsfile part1
cd part1
ls
git init
git add .
git commmit -m "first commit"
git commit -m "first commit"
git branch -M main
git remote add origin https://github.com/tejani-harsh/devops-final-part2.git
git push -u origin main
sudo minikube status
cd part4
ls
cat ssmtp.conf
nano ssmtp.conf
nano mailpendingpod.sh 
kubectl delete -f cronjob.yaml 
sudo kubectl delete -f cronjob.yaml 
docker rmi new-image
sudo docker rmi new-image
sudo docker images
sudo docker rmi newimage
sudo docker build -t newimage .
sudo kubectl apply -f cronjob.yaml 
kubectl get pods
sudo kubectl get pods
sudo ./mailpendingpod.sh
sudo docker rmi newimage
sudo kubectl delete -f cronjob.yaml 
sudo docker rmi newimage
kubectl get cj
sudo kubectl get cj
sudo kubectl get pods
sudo docker rmi newimage
nano mailpendingpod.sh 
sudo docker build -t newimage .
sudo kubectl apply -f cronjob.yaml 
sudo ./mailpendingpod.sh
cat ssmtp.conf 
echo "Test email content" | ssmtp tejani317@gmail.com
cat Dockerfile
nano ssmtp.conf 
sudo docker rmi newimage
sudo kubectl delete -f cronjob.yaml 
sudo docker rmi newimage
docker images
sudo docker images
docker images
sudo docker rmi newimage
kubectl get pods
sudo kubectl get pods
sudo kubectl get cj
sudo docker rmi newimage
sudo docker build -t newimage .
sudo kubectl apply -f cronjob.yaml 
sudo kubectl get pods
docker login
sudo docker login
sudo usermod -aG docker jenkins
sudo service jenkins restart
helm create mywebapp
cd mywebapp/
ls
nano values.yaml
cd
helm install release-1 mywebapp/
sudo helm install release-1 mywebapp/
sudo docker login
sudo helm install release-1 mywebapp/
sudo minikube start --kubernetes-version=v1.23.3 --vm-driver=none

sudo helm install release-2 mywebapp/ --set replicaCount=4
sudo kubectl get pods
cd part4
ls
cat Dockerfile 
cat ServiceAccount.yml \
cat ServiceAccount.yml
cat pending-pod.yaml 
cat cronjob.yaml 
cat mailpendingpod.sh 
cat ssmtp.conf 
cat pod-list-role.yml 
cat pod-list-role-binding.yml 
./mailpendingpod.sh
sudo ./mailpendingpod.sh
chmod +x mailpendingpod.sh
./mailpendingpod.sh
sudo ./mailpendingpod.sh
sudo apt-get update
sudo apt-get install jq
./mailpendingpod.sh
sudo ./mailpendingpod.sh
cat ./mailpendingpod.sh 
./mailpendingpod.sh
sudo ./mailpendingpod.sh
cat ./mailpendingpod.sh
sudo apt-get update
sudo apt-get install ssmtp
sudo ./mailpendingpod.sh
telnet smtp.gmail.com 587
ll
cl
l
ll
ls
l
cd part
cd part1/
ll
cd ..
kubectl get chronjobs
kubectl get chronjob
kubectl get chron
ll
k get all
alias k="sudo kubectl"
k get all 
minikube start 
sudo minikube start --kubernetes-version=v1.23.3 --vm-driver=none
k get all 
ls
var mywebapp/
cd part
cd part1/
ls
ll
cat Dockerfile 
ls
cd ..
l
cd part
cd part1/
ls
cd web_pages/
l
cd ..
ls
cat Dockerfile 
vim Dockerfile 
git add .
git commit -m "modified docker file "
git push
cd ..
ls
cat .
cat get_helm.sh 
sudo apt install code 
sudo apt update
sudo apt  install code 
sudo apt install code 
sudo snap install --classic code # or code-insiders
code tunnel 
code tunnel --accept-server-license-terms
cl
ll
ls
cd mywebapp/
ls
helm install release1
helm install release1 . 
ll
sudo helm install release1 . 
ll
nano values.yaml 
sudo helm install release1 . 
k get all
sudo helm list
sudo helm delete release-1
sudo helm delete release-2
sudo helm delete release1
sudo helm install release1 . 
export POD_NAME=$(kubectl get pods --namespace default -l "app.kubernetes.io/name=mywebapp,app.kubernetes.io/instance=release1" -o jsonpath="{.items[0].metadata.name}")
sudo export POD_NAME=$(kubectl get pods --namespace default -l "app.kubernetes.io/name=mywebapp,app.kubernetes.io/instance=release1" -o jsonpath="{.items[0].metadata.name}")
export POD_NAME=$(sudo kubectl get pods --namespace default -l "app.kubernetes.io/name=mywebapp,app.kubernetes.io/instance=release1" -o jsonpath="{.items[0].metadata.name}")
export CONTAINER_PORT=$(sudo kubectl get pod --namespace default $POD_NAME -o jsonpath="{.spec.containers[0].ports[0].containerPort}")
kubectl --namespace default port-forward $POD_NAME 8080:$CONTAINER_PORT
sudo kubectl --namespace default port-forward $POD_NAME 8080:$CONTAINER_PORT
sudo helm install release-2 mywebapp/ --set replicaCount=4
cd ..
ll
git clone https://www.github.com/surajmandalcell/devops2.git smc
ll
mv smc/helmcharts .
ll
cd mywebapp/
cd ..
cd helmcharts/
ll
helm install release1 . --values values1.yaml
helm install release2 . --values values2.yaml
alias helm="sudo helm"
helm install release1 . --values values1.yaml
helm install release-1 . --values values1.yaml
helm install release-2 . --values values1.yaml
helm list
helm uninstall release-1
helm uninstall release-2
helm uninstall release1
ll
nano values1.yaml 
cat values1.yaml 
helm install release-1 . --values values1.yaml
helm list
helm uninstall release-1
nano Chart.yaml 
ll
cd templates/
ll
cd ..
cd 
ll
cd mywebapp/
ll
cat templates/
ll
cd 
ll
cd part4/
ll
cat ssmtp.conf 
ll
cat Dockerfile 
ll
k apply -f ServiceAccount.yml 
k apply -f cronjob.yaml 
k apply -f pending-pod.yaml 
k apply -f pod-list-role-binding.yml 
k apply -f pod-list-role.yml 
k get pods 
k delete pending-demo
k delete pod pending-demo
k apply -f ServiceAccount
k apply -f ServiceAccount.yml 
k get all
nano .bashrc
. .bashrc
clear
cd part4
clear
k delete cronjob pending-pod-checker
k delete pod pending demo
k delete pod pending-demo
clear
k apply -f service.yaml 
k delete -f service.yaml 
clear
docker build -t tejaniharsh/web-app-image:latest
docker build -t tejaniharsh/web-app-image:latest .
clear
docker push tejaniharsh/web-app-image:latest
clear
k apply -f service.yaml 
k apply -f pending.yaml 
k apply -f cron.yaml 
clear
k logs check-pending-pod-28195882-btcxp
. bashrc
. .bashrc
clear
cd part4
clear && k get all
